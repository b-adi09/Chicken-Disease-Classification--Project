[2025-01-06 19:30:31,739: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://10.0.0.167:80]
[2025-01-06 19:30:31,739: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2025-01-06 19:31:22,650: INFO: _internal: 10.0.0.167 - - [06/Jan/2025 19:31:22] "GET / HTTP/1.1" 200 -]
[2025-01-06 19:33:14,293: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/extension.py", line 194, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/legacy/save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts/training/model.h5
[2025-01-06 19:33:14,311: INFO: _internal: 10.0.0.167 - - [06/Jan/2025 19:33:14] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2025-01-06 19:35:39,951: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:35:39] "GET / HTTP/1.1" 200 -]
[2025-01-06 19:35:48,711: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/extension.py", line 194, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/legacy/save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts/training/model.h5
[2025-01-06 19:35:48,713: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:35:48] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2025-01-06 19:37:28,503: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2025-01-06 19:37:28,504: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:37:28,505: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:37:28,505: INFO: common: created directory at: artifacts]
[2025-01-06 19:37:28,505: INFO: common: created directory at: artifacts/data_ingestion]
[2025-01-06 19:37:30,482: INFO: data_ingestion: artifacts/data_ingestion/data.zip download! with following info: 
Connection: close
Content-Length: 11616915
Cache-Control: max-age=300
Content-Security-Policy: default-src 'none'; style-src 'unsafe-inline'; sandbox
Content-Type: application/zip
ETag: "adf745abc03891fe493c3be264ec012691fe3fa21d861f35a27edbe6d86a76b1"
Strict-Transport-Security: max-age=31536000
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-XSS-Protection: 1; mode=block
X-GitHub-Request-Id: B9D2:2B7583:7375A:837E8:677C7744
Accept-Ranges: bytes
Date: Tue, 07 Jan 2025 00:37:29 GMT
Via: 1.1 varnish
X-Served-By: cache-bos4664-BOS
X-Cache: MISS
X-Cache-Hits: 0
X-Timer: S1736210249.094157,VS0,VE430
Vary: Authorization,Accept-Encoding,Origin
Access-Control-Allow-Origin: *
Cross-Origin-Resource-Policy: cross-origin
X-Fastly-Request-ID: 552b4044c4b5d71fced8d687215da1bbba51efa8
Expires: Tue, 07 Jan 2025 00:42:29 GMT
Source-Age: 0

]
[2025-01-06 19:37:30,575: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2025-01-06 19:37:30,575: INFO: main: *******************]
[2025-01-06 19:37:30,575: INFO: main: >>>>>> stage Prepare base model started <<<<<<]
[2025-01-06 19:37:30,576: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:37:30,576: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:37:30,576: INFO: common: created directory at: artifacts]
[2025-01-06 19:37:30,576: INFO: common: created directory at: artifacts/prepare_base_model]
[2025-01-06 19:37:36,799: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2025-01-06 19:37:36,837: WARNING: optimizer: At this time, the v2.11+ optimizer `tf.keras.optimizers.SGD` runs slowly on M1/M2 Macs, please use the legacy Keras optimizer instead, located at `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:37:36,838: WARNING: __init__: There is a known slowdown when using v2.11+ Keras optimizers on M1/M2 Macs. Falling back to the legacy Keras optimizer, i.e., `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:37:36,865: INFO: main: >>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2025-01-06 19:37:36,865: INFO: main: *******************]
[2025-01-06 19:37:36,865: INFO: main: >>>>>> stage Training started <<<<<<]
[2025-01-06 19:37:36,866: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:37:36,866: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:37:36,866: INFO: common: created directory at: artifacts]
[2025-01-06 19:37:36,866: INFO: common: created directory at: artifacts/prepare_callbacks/checkpoint_dir]
[2025-01-06 19:37:36,866: INFO: common: created directory at: artifacts/prepare_callbacks/tensorboard_log_dir]
[2025-01-06 19:37:36,867: ERROR: main: 'PosixPath' object has no attribute 'endswith']
Traceback (most recent call last):
  File "main.py", line 40, in <module>
    model_trainer.main()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/stage_03_training.py", line 19, in main
    callback_list = prepare_callbacks.get_tb_ckpt_callbacks()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 36, in get_tb_ckpt_callbacks
    self._create_ckpt_callbacks
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 27, in _create_ckpt_callbacks
    return tf.keras.callbacks.ModelCheckpoint(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/callbacks.py", line 1369, in __init__
    if filepath and filepath.endswith(".keras") and options is not None:
AttributeError: 'PosixPath' object has no attribute 'endswith'
[2025-01-06 19:37:37,044: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:37:37] "GET /train HTTP/1.1" 200 -]
[2025-01-06 19:37:37,121: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:37:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -]
[2025-01-06 19:37:53,292: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2025-01-06 19:37:53,293: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:37:53,293: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:37:53,293: INFO: common: created directory at: artifacts]
[2025-01-06 19:37:53,293: INFO: common: created directory at: artifacts/data_ingestion]
[2025-01-06 19:37:53,293: INFO: data_ingestion: File already exists of size: ~ 11345 KB]
[2025-01-06 19:37:53,367: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2025-01-06 19:37:53,368: INFO: main: *******************]
[2025-01-06 19:37:53,368: INFO: main: >>>>>> stage Prepare base model started <<<<<<]
[2025-01-06 19:37:53,368: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:37:53,369: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:37:53,369: INFO: common: created directory at: artifacts]
[2025-01-06 19:37:53,369: INFO: common: created directory at: artifacts/prepare_base_model]
[2025-01-06 19:37:53,568: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2025-01-06 19:37:53,602: WARNING: optimizer: At this time, the v2.11+ optimizer `tf.keras.optimizers.SGD` runs slowly on M1/M2 Macs, please use the legacy Keras optimizer instead, located at `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:37:53,603: WARNING: __init__: There is a known slowdown when using v2.11+ Keras optimizers on M1/M2 Macs. Falling back to the legacy Keras optimizer, i.e., `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:37:53,627: INFO: main: >>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2025-01-06 19:37:53,627: INFO: main: *******************]
[2025-01-06 19:37:53,627: INFO: main: >>>>>> stage Training started <<<<<<]
[2025-01-06 19:37:53,628: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:37:53,628: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:37:53,628: INFO: common: created directory at: artifacts]
[2025-01-06 19:37:53,628: INFO: common: created directory at: artifacts/prepare_callbacks/checkpoint_dir]
[2025-01-06 19:37:53,628: INFO: common: created directory at: artifacts/prepare_callbacks/tensorboard_log_dir]
[2025-01-06 19:37:53,629: ERROR: main: 'PosixPath' object has no attribute 'endswith']
Traceback (most recent call last):
  File "main.py", line 40, in <module>
    model_trainer.main()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/stage_03_training.py", line 19, in main
    callback_list = prepare_callbacks.get_tb_ckpt_callbacks()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 36, in get_tb_ckpt_callbacks
    self._create_ckpt_callbacks
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 27, in _create_ckpt_callbacks
    return tf.keras.callbacks.ModelCheckpoint(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/callbacks.py", line 1369, in __init__
    if filepath and filepath.endswith(".keras") and options is not None:
AttributeError: 'PosixPath' object has no attribute 'endswith'
[2025-01-06 19:37:53,803: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:37:53] "GET /train HTTP/1.1" 200 -]
[2025-01-06 19:38:17,378: INFO: _internal: 10.0.0.167 - - [06/Jan/2025 19:38:17] "GET / HTTP/1.1" 200 -]
[2025-01-06 19:38:18,902: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/extension.py", line 194, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/legacy/save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts/training/model.h5
[2025-01-06 19:38:18,904: INFO: _internal: 10.0.0.167 - - [06/Jan/2025 19:38:18] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2025-01-06 19:38:37,162: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/extension.py", line 194, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/legacy/save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts/training/model.h5
[2025-01-06 19:38:37,164: INFO: _internal: 10.0.0.167 - - [06/Jan/2025 19:38:37] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2025-01-06 19:38:57,596: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2025-01-06 19:38:57,597: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:38:57,598: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:38:57,598: INFO: common: created directory at: artifacts]
[2025-01-06 19:38:57,598: INFO: common: created directory at: artifacts/data_ingestion]
[2025-01-06 19:38:57,598: INFO: data_ingestion: File already exists of size: ~ 11345 KB]
[2025-01-06 19:38:57,674: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2025-01-06 19:38:57,674: INFO: main: *******************]
[2025-01-06 19:38:57,674: INFO: main: >>>>>> stage Prepare base model started <<<<<<]
[2025-01-06 19:38:57,675: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:38:57,676: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:38:57,676: INFO: common: created directory at: artifacts]
[2025-01-06 19:38:57,676: INFO: common: created directory at: artifacts/prepare_base_model]
[2025-01-06 19:38:57,874: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2025-01-06 19:38:57,908: WARNING: optimizer: At this time, the v2.11+ optimizer `tf.keras.optimizers.SGD` runs slowly on M1/M2 Macs, please use the legacy Keras optimizer instead, located at `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:38:57,909: WARNING: __init__: There is a known slowdown when using v2.11+ Keras optimizers on M1/M2 Macs. Falling back to the legacy Keras optimizer, i.e., `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:38:57,938: INFO: main: >>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2025-01-06 19:38:57,938: INFO: main: *******************]
[2025-01-06 19:38:57,938: INFO: main: >>>>>> stage Training started <<<<<<]
[2025-01-06 19:38:57,943: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:38:57,944: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:38:57,944: INFO: common: created directory at: artifacts]
[2025-01-06 19:38:57,944: INFO: common: created directory at: artifacts/prepare_callbacks/checkpoint_dir]
[2025-01-06 19:38:57,944: INFO: common: created directory at: artifacts/prepare_callbacks/tensorboard_log_dir]
[2025-01-06 19:38:57,945: ERROR: main: 'PosixPath' object has no attribute 'endswith']
Traceback (most recent call last):
  File "main.py", line 40, in <module>
    model_trainer.main()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/stage_03_training.py", line 19, in main
    callback_list = prepare_callbacks.get_tb_ckpt_callbacks()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 36, in get_tb_ckpt_callbacks
    self._create_ckpt_callbacks
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 27, in _create_ckpt_callbacks
    return tf.keras.callbacks.ModelCheckpoint(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/callbacks.py", line 1369, in __init__
    if filepath and filepath.endswith(".keras") and options is not None:
AttributeError: 'PosixPath' object has no attribute 'endswith'
[2025-01-06 19:38:58,126: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:38:58] "GET /train HTTP/1.1" 200 -]
[2025-01-06 19:39:07,578: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/extension.py", line 194, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/legacy/save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts/training/model.h5
[2025-01-06 19:39:07,580: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:39:07] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2025-01-06 19:39:55,817: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2025-01-06 19:39:55,818: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:39:55,819: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:39:55,819: INFO: common: created directory at: artifacts]
[2025-01-06 19:39:55,819: INFO: common: created directory at: artifacts/data_ingestion]
[2025-01-06 19:39:55,819: INFO: data_ingestion: File already exists of size: ~ 11345 KB]
[2025-01-06 19:39:55,917: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x==========x]
[2025-01-06 19:39:55,917: INFO: main: *******************]
[2025-01-06 19:39:55,918: INFO: main: >>>>>> stage Prepare base model started <<<<<<]
[2025-01-06 19:39:55,918: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:39:55,919: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:39:55,919: INFO: common: created directory at: artifacts]
[2025-01-06 19:39:55,919: INFO: common: created directory at: artifacts/prepare_base_model]
[2025-01-06 19:39:56,152: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2025-01-06 19:39:56,184: WARNING: optimizer: At this time, the v2.11+ optimizer `tf.keras.optimizers.SGD` runs slowly on M1/M2 Macs, please use the legacy Keras optimizer instead, located at `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:39:56,185: WARNING: __init__: There is a known slowdown when using v2.11+ Keras optimizers on M1/M2 Macs. Falling back to the legacy Keras optimizer, i.e., `tf.keras.optimizers.legacy.SGD`.]
[2025-01-06 19:39:56,213: INFO: main: >>>>>> stage Prepare base model completed <<<<<<

x==========x]
[2025-01-06 19:39:56,213: INFO: main: *******************]
[2025-01-06 19:39:56,213: INFO: main: >>>>>> stage Training started <<<<<<]
[2025-01-06 19:39:56,214: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:39:56,214: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:39:56,214: INFO: common: created directory at: artifacts]
[2025-01-06 19:39:56,214: INFO: common: created directory at: artifacts/prepare_callbacks/checkpoint_dir]
[2025-01-06 19:39:56,214: INFO: common: created directory at: artifacts/prepare_callbacks/tensorboard_log_dir]
[2025-01-06 19:39:56,215: ERROR: main: 'PosixPath' object has no attribute 'endswith']
Traceback (most recent call last):
  File "main.py", line 40, in <module>
    model_trainer.main()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/stage_03_training.py", line 19, in main
    callback_list = prepare_callbacks.get_tb_ckpt_callbacks()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 36, in get_tb_ckpt_callbacks
    self._create_ckpt_callbacks
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/components/prepare_callbacks.py", line 27, in _create_ckpt_callbacks
    return tf.keras.callbacks.ModelCheckpoint(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/callbacks.py", line 1369, in __init__
    if filepath and filepath.endswith(".keras") and options is not None:
AttributeError: 'PosixPath' object has no attribute 'endswith'
[2025-01-06 19:39:56,405: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:39:56] "GET /train HTTP/1.1" 200 -]
[2025-01-06 19:40:06,894: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:40:06] "[33mGET /test HTTP/1.1[0m" 404 -]
[2025-01-06 19:40:19,040: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/extension.py", line 194, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 40, in predictRoute
    result = clApp.classifier.predict()
  File "/Users/adityabafna/Documents/Projects/Data Science Projects/Chicken-Disease-Classification--Project/src/cnnClassifier/pipeline/predict.py", line 16, in predict
    model = load_model(os.path.join("artifacts","training", "model.h5"))
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/saving_api.py", line 238, in load_model
    return legacy_sm_saving_lib.load_model(
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/utils/traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "/opt/anaconda3/envs/cnncls/lib/python3.8/site-packages/keras/src/saving/legacy/save.py", line 234, in load_model
    raise IOError(
OSError: No file or directory found at artifacts/training/model.h5
[2025-01-06 19:40:19,042: INFO: _internal: 127.0.0.1 - - [06/Jan/2025 19:40:19] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2025-01-06 19:48:41,803: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:48:41,805: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:48:41,806: INFO: common: created directory at: artifacts]
[2025-01-06 19:48:41,807: INFO: common: created directory at: artifacts/prepare_callbacks/checkpoint_dir]
[2025-01-06 19:48:41,807: INFO: common: created directory at: artifacts/prepare_callbacks/tensorboard_log_dir]
[2025-01-06 19:48:55,534: INFO: common: yaml file: config/config.yaml loaded successfully]
[2025-01-06 19:48:55,536: INFO: common: yaml file: params.yaml loaded successfully]
[2025-01-06 19:48:55,537: INFO: common: created directory at: artifacts]
[2025-01-06 19:48:55,537: INFO: common: created directory at: artifacts/prepare_callbacks/checkpoint_dir]
[2025-01-06 19:48:55,538: INFO: common: created directory at: artifacts/prepare_callbacks/tensorboard_log_dir]
